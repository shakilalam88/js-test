<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call back hell</title>
</head>
<body>
    <script>
        function number(num){
            setTimeout(()=>{
                console.log(num)
            },2000)
        }
        // number(1)
        // number(2)
        // number(3)

        function getData(data, newDataCallback){
            setTimeout(()=>{
                console.log(data);
                if(newDataCallback){
                    newDataCallback()
                }
            },2000)
        }
        //callback hell
        // getData(1, ()=>{
        //     getData(2,()=>{
        //         getData(3,()=>{
        //             getData(4)
        //         })
        //     })
        // })


        // getData(2)
        // getData(3)

        const promise = new Promise((resolve,reject)=>{
            // console.log("i am a promise");
            let flag = true
            if(flag){
                resolve("promise resolve")
            }else{
                reject('something went wrong')
            }
        })

        const getPromise = ()=>{
            return new Promise((resolve, reject)=>{
                let flag = true;
                if(flag){
                    console.log("success");
                }else{
                    console.log("error");
                }
            })
        }

        // let promiseData = getPromise()
        // promiseData.then((res)=>{
        //     console.log("promise fulfilled", res);
        // })
        // promiseData.catch((error)=>{
        //     console.log("promise reject", error);
        // })

        function asyncFunc1(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log("data 1");
                    resolve("success 1")
                },3000)
            })
        }

        function asyncFunc2(){
            return new Promise((resolve)=>{
                setTimeout(()=>{
                    console.log("data 2");
                    resolve("success 2")
                },2000)
            })
        }

        // console.log("fetching data 1 ....");
        // const p1 = asyncFunc1();
        // p1.then((res)=>{
        //     console.log(res);
        //     console.log("fetching data 2 ....");
        //     const p2 = asyncFunc2()
        //     p2.then((res)=>{
        //         console.log(res);
        //     })
        // })

        // console.log("fetching data 1...");
        // asyncFunc1().then((res)=>{
        //     console.log(res);
        //     console.log("fetching data 2....");
        //     asyncFunc2().then((res)=>{
        //         console.log(res);
        //     })
        // })

        function getValue(dataID){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log("data", dataID);
                    resolve("success data")
                },2000)
            })
        }

        // Promise Chain

        // getValue(1)
        //     .then((res)=>{
        //         return getValue(2)
        //     })
        //     .then((res)=>{
        //         return getValue(3)
        //     })
        //     .then(()=>{
        //         return getValue(4)
        //     })

        // Async await
        
        async function getAllValue(){
            await getValue(1)
            await getValue(2)
            await getValue(3)
            await getValue(4)
            await getValue(5)
            await getValue(6)
        }
        function api(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    resolve("hi")
                },2000)
            })
        }
        async function getWeatherData(){
            await api() // 1st
            await api() // 2nd
        }
    </script>
</body>
</html>